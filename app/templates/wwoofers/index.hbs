<div class="page-header">
    <h1>
        {{t 'wwoofers.index.title'}}
    </h1>
</div>

<div class="row">
    <div class="col-md-3">
        <div class="form-group">
            <label for="searchTerm" class="sr-only">{{t 'literals.search'}}</label>
            {{input type="text" class="form-control" id="searchTerm" placeholderTranslation="wwoofers.index.search.placeholder" value=searchTerm action="searchWwoofers"}}
        </div>
    </div>
    <div class="col-md-3">
        <div class="form-group">
            <label for="country" class="sr-only">{{t 'address.form.country.label'}}</label>
            {{view Ember.Select
            content=controllers.countries.content
            optionValuePath="content.id"
            optionLabelPath="content.name"
            value=country
            class="form-control"
            name="country"
            promptTranslation='address.form.country.prompt'}}
        </div>
    </div>
    <div class="col-md-3">
        <button {{action "searchWwoofers"}} {{bind-attr disabled=isLoading}} class="btn btn-primary btn-lg">
            {{t 'literal.search'}}
        </button>
    </div>
</div>

{{#if isLoading}}
    {{partial 'loading'}}
{{else}}
    <table class="table table-hover">
        <thead>
        <tr>
            <th>{{t 'wwoofers.index.firstName'}}</th>
            <th>{{t 'wwoofers.index.lastName'}}</th>
            <th>{{t 'literal.email'}}</th>
            <th>{{t 'wwoofers.index.city'}}</th>
            <th>{{t 'wwoofers.index.country'}}</th>
            <th>{{t 'wwoofers.index.actions'}}</th>
        </tr>
        </thead>
        <tbody>
        {{#each}}
            <tr>
                <td>{{user.firstName}}</td>
                <td>{{user.lastName}}</td>
                <td>{{user.email}}</td>
                <td>{{address.city}}</td>
                <td>{{address.country.name}}</td>
                <td>
                    {{#link-to "wwoofer" id}}{{t 'literal.view'}}{{/link-to}} |
                    {{#link-to "wwoofer.edit" id}}{{t 'literal.edit'}}{{/link-to}}
                </td>
            </tr>
        {{/each}}
        </tbody>
    </table>
{{/if}}

