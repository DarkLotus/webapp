<div class="page-header">
    <h1>
        Wwoofers
    </h1>
</div>

<div class="row">
    <div class="col-md-3">
        <div class="form-group">
            <label for="searchTerm" class="sr-only">Search</label>
            {{input type="text" class="form-control" id="searchTerm" placeholder="Enter name or email" value=searchTerm action="searchWwoofers"}}
        </div>
    </div>
    <div class="col-md-3">
        <div class="form-group">
            <label for="country" class="sr-only">Country</label>
            {{view Ember.Select
            content=controllers.countries.content
            optionValuePath="content.id"
            optionLabelPath="content.name"
            value=country
            class="form-control"
            name="country"
            prompt="Select a country"}}
        </div>
    </div>
    <div class="col-md-3">
        <button {{action "searchWwoofers"}} {{bind-attr disabled=isLoading}} class="btn btn-primary btn-lg">
            Search
        </button>
    </div>
</div>

{{#if isLoading}}
    {{partial 'loading'}}
{{else}}
    <table class="table table-hover">
        <thead>
        <tr>
            <th>First Name</th>
            <th>Last Name</th>
            <th>Email</th>
            <th>City</th>
            <th>Country</th>
            <th>Actions</th>
        </tr>
        </thead>
        <tbody>
        {{#each}}
            <tr>
                <td>{{user.firstName}}</td>
                <td>{{user.lastName}}</td>
                <td>{{user.email}}</td>
                <td>{{address.city}}</td>
                <td>{{address.country.name}}</td>
                <td>
                    {{#link-to "wwoofer" id}}View{{/link-to}} |
                    {{#link-to "wwoofer.edit" id}}Edit{{/link-to}}
                </td>
            </tr>
        {{/each}}
        </tbody>
    </table>
{{/if}}

